@import "compass/css3/transform"
@import "compass/css3/border-radius"
@import "base/blocks"
@import "base/fonts"
@import "base/text"
@import "elements/buttons"
@import "elements/materials"
@import "elements/movement"

@import "compass/typography/vertical_rhythm"

=expandable_sign
  &:after
    content: "V"
    float: right
    margin-right: -2em
    display: inline-block
  &.show
    &:after
      +rotate(90deg)
  &:not(.show)
    &:after
      color: $very-subtle

=actionable
  +pointer

=actionable
  +pointer
  +noselect
  +border-radius(2px)
  +button_background
  &:not(.show):hover
    +subtle_color
  &.show
    +active
  &.loading
    +loading
  &.error
    +error
  & > a
    display: inline-block
    height: 100%
    width: 100%

=gone
  &:not(.show)
    +shrinking("up")

=hide_next
  &.next:not(.show) + dd
    +gone

=toggle_button
  +hide_next
  +actionable
  +button_text

=action_top
  border-top: 1px solid $subtle-border
    
=menu
  overflow: hidden
  +clean_list
  +flat_list
  +noinlinegaps
  & > dt
    +small_button_padding
    +toggle_button
    +subtle_background
    display: inline-block
    & > a
      +clean_style

=absolute
  position: relative
  & > dd
    position: absolute

=below_left
  +absolute
  & > dd
    left: 0
    
=below_right
  +absolute
  & > dd
    right: 0

=top_right
  position: relative
  & > dd
    position: absolute
    top: 0

=border_block
  +rhythm-borders(1px, 1)
  border-color: $subtle-border
  min-height: rhythm(2)

=boxed
  +padded_block
  +border_block

=right_content
  & > dd
    position: absolute
    top: 0
    right: 0

=float_content
  & > dd
    float: left
    
=vertical_menu
  +menu
  +right_content

  & > dt
    float:left
    clear:both
    width: 30%
    overflow: hidden
    display: block

  & > dd
    +boxed
    border-right: 0
    border-top: 0
    border-bottom: 0

    width: 70%
    height: 100%

=horizontal_menu
  +menu
  & > dt
    display: inline-block
    +tab
  & > dd
    min-width: 100%
    

=raisable($depth: 1)
  &.show, &.active
    //border: 1px $subtle_border
    //border-bottom: none
    +material($depth)
  &:not(.show), &:not(.active)
    //border-top: #{$depth}px solid rgba(0,0,0,0)
    //border-bottom: #{$depth}px solid rgba(255,255,255,0)

=tab
  +text_line
  +actionable
  position: relative
  border-bottom: 0px

=shadow_content
  +boxed
  &:not(.show)
    border: none
  &.show
    +bottom_shadow(2)

=dropdown_menu
  +horizontal_menu
  +below_left
  overflow: visible
  & > dd
    overflow: auto
    +shrinking(up)
    +ease_height
    overflow-y: auto

=tab_menu
  +horizontal_menu
  +float_content
  overflow: visible
  & > dd
    +padded_block
    +shrinking(up)
    +ease_height
    overflow-y: auto

=top_divider
  &:not(:first-child)
    border-top: 1px solid $extremely-subtle-color

=dropdown_menu_item
  line-height: rhythm(2)
  +button_background
  padding-left: $gutter
  &:not(:hover)
    +oneline


=accordion_menu
  +menu
  & > dt
    +top_divider
    +dropdown_menu_item
    width: 100%
    & > a:first-child:not(:last-child)
      font-size: 1.2em
      width: 5em
      text-align: center
      display: inline-block
      &:hover
        border-right: 1px solid $subtle_border

  & > dd
    +shrinking(up)
    +padded_block
    width: 100%
    padding-bottom: rhythm(0.5)
    overflow: hidden
    +white_background
    +clearfix

